\documentclass[
	aspectratio=169, % default is 43
	8pt, % font size, default is 11pt
	handout, % handout mode without animations, comment out to add animations
]{beamer}

\input{template/lecture}


% Code Listings
\usepackage{listings}

\lstset{ 
	language=Java, % choose the language of the code
	numbers=none, % where to put the line-numbers
	numberstyle=\tiny, % the size of the fonts that are used for the line-numbers     
	showspaces=false, % show spaces adding particular underscores
	showstringspaces=false, % underline spaces within strings
	showtabs=false, % show tabs within strings adding particular underscores
	frame=single, % adds a frame around the code
	framerule=1pt,
	framesep=3pt,
	tabsize=2, % sets default tabsize to 2 spaces
	rulesepcolor=\color{gray},
	rulecolor=\color{black},
	captionpos=b, % sets the caption-position to bottom
	breaklines=true, % sets automatic line breaking
	breakatwhitespace=false, 
	moredelim=**[is][\color{red}]{@}{@},
	moredelim=**[is][\color{green}]{?}{?},
	moredelim=**[is][\color{blue}]{~}{~},
	escapeinside={(*@}{@*)},
	columns=fullflexible, 
	backgroundcolor=\color{white}
}

% Tables
\usepackage{booktabs}

\subtitle{2. Runtime Variability and Design Patterns}
\author{Timo Kehrer}

\begin{document}

\input{template/header}

% runtime variability
%   input: flags in source code, configuration files, runtime parameters (avoid recompilation)
%   realization: if, switch, encoded in objects/state, inheritance
%   design patterns for variability / OOP + outlook beyond runtime variability

\section{Configuration of Runtime Variability}

%\begin{frame}{Variants of Graphs and Their Features}
	%\centering
	%\includegraphics[width=.7\linewidth,page=6,trim=20 20 20 150,clip]{FeatureIDE with Graphs/2016-05-19 ICSE FeatureIDEdemo}
	%% TODO export into separate PDF containing only the separate products
%\end{frame}
%
%\subsection{Runtime Parameters}
%\begin{frame}{\insertsubsection}
	%\leftorright{
		%\includegraphics[width=\linewidth]{runtime-parameters-win10-cmd-dir}
	%}{
		%\includegraphics[width=\linewidth]{runtime-parameters-win10-cmd-dir2}
	%}
%\end{frame}

\input{content/02a-configuration}

\lessonslearned{
	\item External setting of configuration parameters through, e.g.,
		%\begin{itemize}
			command-line parameters,
			configuration files, or
			preference dialogs.
		%\end{itemize}
	\item Validity of parameter settings (i.e., feature combinations) may be affected by dependencies between features.
}{
	\item S. Apel, D. Batory, C. Kästner, and G. Saake. Feature-Oriented Software Product Lines - Concepts and Implementation. Springer, 2013. Chapter 4
	\item J. Meinicke, T. Thüm, R. Schröter, F. Benduhn, T. Leich, and G. Saake. Mastering Software Variability with FeatureIDE. Springer, 2017. Chapter 17.1
}{
	\item Do you know any practical examples making use of runtime variability?
	\item How does the configuration take place?
	\item Is the configuration checked for validity?
}

\sectionend
	
\section{Realization of Runtime Variability}

\input{content/02b-implementation}

\lessonslearned{
	\item Global (immutable) variables or (lengthy) parameter lists.
	\item Reconfiguration at runtime is possible (in principle).
	\item Variability is spread over the entire program.
	\item Variable parts are always delivered.
		%\begin{itemize}
			%\item Affects code size, resource consumption, performance, ...
			%\item Unused functionality may be risky (security, business strategy, ...)
		%\end{itemize}
}{
	\item P. Hodgson. Feature Toggles. \url{https://martinfowler.com/articles/feature-toggles.html}
}{
	\item What are the problems with code scattering, tangling and replication?
	\item What are the problems of variable parts being always delivered?
}

\sectionend

\section{Design Patterns for Variability}

\input{content/02c-patterns}

\lessonslearned{
	\item Variability through object-orientation and design patterns
	\item Extension through delegation vs. inheritance  
	\item Limitations and drawbacks w.r.t. feature combinations
}{
	\item B. Meyer, Object-Oriented Software Construction, Prentice Hall, 1997. Chapters 3, 4
	\item E. Gamma, R. Helm, R. Johnson, and J. Vlissides. Design Patterns: Elements of Reusable Object-Oriented Software. Addison-Wesley, 1995.
}{
	\item What characterizes a modular software design and why can it support variability?
	\item In which sense are object-oriented solutions more modular than feature toggles?
	\item Do you know of other design patterns supporting variability?
}

\sectionend

\input{template/footer}

\end{document}
