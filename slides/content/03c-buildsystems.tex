
\begin{frame}<2>{Recap: Software Configuration Management}
	\frameSoftwareConfigurationManagement
\end{frame}

\subsection{Build Systems}

\begin{frame}{Tool Support: Build Systems}
	\begin{mycolumns}[widths={40},animation=none]
		\begin{definition}{Build Systems} % TODO source missing
			\begin{itemize}
				\item Automation of the build process through build scripts
				\item Multiple steps with dependencies/conditions
				\begin{itemize}
					\item Copy files, 
					\item call compiler, 
					\item start other tools, 
					\item \ldots
				\end{itemize}
				\item Tools: 
				\begin{itemize}
					\item make
					\item ant
					\item maven
					\ldots
				\end{itemize}
			\end{itemize}
		\end{definition}
	\mynextcolumn
		\pic[width=\linewidth]{ant-hello-world}
	\end{mycolumns}	
\end{frame}

\subsection{Variability through Build Scripts}

\begin{frame}{Variability through Build Scripts}
	\vspace{-\textheightoftitle}
	\begin{mycolumns}
		\begin{note}{Basic Idea}
			\begin{itemize}
				\item One build script per variant
				\item Include/exclude files when translating
				\item Overwrite variant-specific files
			\end{itemize}
		\end{note}
	\mynextcolumn
		\centering\pic[height=\textheightwithouttitle]{buildsystems}
	\end{mycolumns}	
\end{frame}

\begin{frame}[fragile]{Example: Graph Library}
	\begin{mycolumns}[b,animation=none,height=\textheightwithtitle]
		\centering\pic[height=\textheightwithtitle]{buildsystems-graphs-1} % TODO Graph.java and Edge.java need to be switched in the upper part + what about Node.java and Weight.java?
	\mynextcolumn
\begin{codetight}{}
class Edge {
	Node a, b;

	Edge(Node a, Node b) {
		this.a = a; this.b = b;
	}
	void print() {
		a.print(); b.print();
	}
}
\end{codetight}
\begin{codetight}{}
class Edge {
	Node a, b;
	@Weight weight = new Weight();@

	Edge(Node a, Node b) {
		this.a = a; this.b = b;
	}
	void print() {
		a.print(); b.print();
		@weight.print();@
	}
}
\end{codetight}
	\end{mycolumns}
\end{frame}

\begin{frame}[fragile]{Example: Graph Library}
\begin{tiny}	
	\begin{mycolumns}[columns=4,widths={10,30,10,60},animation=none]
		~
	\mynextcolumn
		\vspace{2mm}
		\pic[width=\linewidth]{buildsystems-graphs-2}	
	\mynextcolumn
		~
	\mynextcolumn
\begin{codetight}{}
public class Graph implements IGraph {
	@EdgeFactory ef;@
	...
	@public Graph(EdgeFactory _ef) {
		ef = _ef;@
	}
	public Edge add(Node n, Node m) {
		@Edge e = ef.createEdge(n, m);@
		nodes.add(n); nodes.add(m); edges.add(e);
		return e;
	}
	...
}
\end{codetight}
\begin{codetight}{}
public class Edge {
	Node a, b;
	...
}
\end{codetight}
\vspace{0.5cm}
\begin{codetight}{}
public class WeightedEdge extends Edge {
	Node a, b;
	@Weight weight = new Weight();@
	...
}
\end{codetight}
	\end{mycolumns}
\end{tiny}
\end{frame}

\subsection{Discussion}

\begin{frame}{Discussion}
	\begin{flushright}		
		\vspace{-1cm}
		\pic[scale=0.27]{buildsystems}
		~~~~~~~~~~~~~~~~~
	\end{flushright}
	\begin{mycolumns}[columns=2,widths={50,50},animation=none]
		\vspace{-8cm}
		\mynote{Comparison to Version Control Systems}{	
			\begin{itemize}
				\item Supports combination of more fine-grained software items (i.e., files).
				\item However: No provenance support.
			\end{itemize}
		}	
		\mynote{More generally:}{	
			\begin{itemize}
				\item Combination of items (i.e., files) $\neq$ combination of features.
				\item All variants are potentially affected by changes to the basic variant.
			\end{itemize}
		}		
	\mynextcolumn
		~	
	\end{mycolumns}	
\end{frame}