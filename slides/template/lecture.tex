\usepackage{../template/beamerthemeuulm} % use the inofficial uulm beamer theme
\setfaculty{infIngPsy} % set the color scheme for your faculty here [med/infIngPsy/math/nat]

% TODO use git module for public repositories
% requires symbolic links
% git clone git@github.com:SoftVarE-Group/SlideTemplate.git C:\Users\...\SlideTemplate
% mklink /J template C:\Users\...\SlideTemplate
% git clone git@spgit.informatik.uni-ulm.de:thuem/slides.git C:\Users\...\ThomasSlides
% mklink /J thomasslides C:\Users\...\ThomasSlides
% git clone git@github.com:SoftVarE-Group/Papers.git C:\Users\...\SoftVarE-Papers
% mklink /J softvarepapers C:\Users\...\SoftVarE-Papers
% git clone git@github.com:SoftVarE-Group/Slides.git C:\Users\...\SoftVarE-Slides
% mklink /J softvareslides C:\Users\...\SoftVarE-Slides
\graphicspath{
	{../template/pics/logos/}
	{../template/pics/nature/}
	{../template/pics/uulm/}
	{../thomasslides/}
	{../softvarepapers/}
	{../softvareslides/}
	{../pics/}
	{../pics/configurators/}
	{../pics/frameworks/}
	{../pics/interactions/}
	{../pics/linux/}
	{../pics/literature/}
	{../pics/mindmaps/}
	{../pics/people/}
	{../pics/preprocessors/}
	{../pics/products/}
	{../pics/runtimevariability/}
	{../pics/testing/}
	{../pics/variabilitymodels/}
	{../pics/versioncontrol/}
	{../pics/xkcd/}
}

%\usepackage[ngerman]{babel} % use this line for slides in German
%\recordingtrue % special recording mode for use with a greenscreen, gives you space to show yourself in a layer in front of the slides, has no effect in the handout mode

\title{Software Product Lines} % short title is used for the slide footer but optional

% REFERENCES TO OTHER LECTURES

\newcommand{\reflecture}[1]{(see Lecture~#1)}
\newcommand{\lectureintroduction}{\reflecture{1}}
\newcommand{\lectureruntime}{\reflecture{2}}
\newcommand{\lecturecloneandown}{\reflecture{3}}
\newcommand{\lecturemodeling}{\reflecture{4}}
\newcommand{\lectureembedded}{\reflecture{5}}
\newcommand{\lectureapps}{\reflecture{6}}
\newcommand{\lecturelanguages}{\reflecture{7}}
\newcommand{\lectureprocess}{\reflecture{8}}
\newcommand{\lectureinteractions}{\reflecture{9}}
\newcommand{\lectureanalyses}{\reflecture{10}}
\newcommand{\lecturetesting}{\reflecture{11}}
\newcommand{\lectureevonance}{\reflecture{12}}

% LINKED LITERATURE

\newcommand{\bakarnaturallanguage}{\href{https://doi.org/10.1016/j.jss.2015.05.006}{Bakar~et~al.~2015}}
\newcommand{\czarneckithereandbackagain}{\href{https://ieeexplore.ieee.org/document/4339252}{Czarnecki~and~Wasowski~2007}}
\newcommand{\evaluatingsharpsatsolverslink}[1]{\href{https://github.com/SoftVarE-Group/Papers/raw/main/2020/2020-VaMoS-Sundermann.pdf}{#1}}
\newcommand{\evaluatingsharpsatsolvers}{\evaluatingsharpsatsolverslink{Sundermann~et~al.~2020}}
\newcommand{\featureide}{\href{https://link.springer.com/book/10.1007\%2F978-3-319-61443-4}{Meinicke~et~al.~2013}}
\newcommand{\fospl}{\href{http://link.springer.com/book/10.1007/978-3-642-37521-7}{Apel~et~al.~2013}}
\newcommand{\icpl}{\href{https://dl.acm.org/doi/10.1145/2362536.2362547}{Johansen et al.\ 2012}}
\newcommand{\lehmanslaws}{\href{https://ieeexplore.ieee.org/iel3/5031/13795/00637156.pdf}{Lehman et al.\ 1997}}
\newcommand{\ludewiglichter}{\href{https://learning.oreilly.com/library/view/-/9781457184932/?ar}{Ludewig and Lichter}}
\newcommand{\reducingconfigurations}{\href{https://doi.org/10.1145/1960275.1960284}{Kim~et~al.~2011}}
\newcommand{\samplingsurvey}{\href{https://github.com/SoftVarE-Group/Papers/raw/main/2018/2018-SPLC-Varshosaz.pdf}{Varshosaz~et~al.~2018}}
\newcommand{\seeconomics}{\href{https://rds-ulm.ibs-bw.de/link?kid=027381854}{SE Economics}}
\newcommand{\seiwhitepaperspl}{\href{https://resources.sei.cmu.edu/asset_files/WhitePaper/2012_019_001_495381.pdf}{Northrop~et~al. 2012}}
\newcommand{\shereverseengineering}{\href{https://dl.acm.org/doi/abs/10.1145/1985793.1985856}{She~et~al.~2011}}
\newcommand{\sommervillelink}[1]{\href{https://ulm.ibs-bw.de/aDISWeb/app?service=direct/0/Home/$DirectLink\&sp=SOPAC00\&sp=SAKSWB-IdNr1615420983}{#1}}
\newcommand{\sommerville}{\sommervillelink{Sommerville}}
\newcommand{\thehumbleprogrammer}{\href{https://dl.acm.org/doi/10.1145/1283920.1283927}{The Humble Programmer}}
\newcommand{\thepragmaticprogrammer}{\href{https://learning.oreilly.com/library/view/the-pragmatic-programmer/9780135956977/}{The Pragmatic Programmer}}
\newcommand{\twodimensionalanalysislink}[1]{\href{https://github.com/SoftVarE-Group/Papers/raw/main/2019/2019-VariVolution-Thuem.pdf}{#1}}
\newcommand{\twodimensionalanalysis}{\twodimensionalanalysislink{Th√ºm~et~al.~2019}}

% IMPORTED PACKAGES

%\usepackage{adjustbox} % used for partofpage
\usepackage{multicol} % used temporarily for the lecture overview
\usepackage{stmaryrd} % \lightning in modeling lecture

% INCLUDED TEMPLATE FILES
\input{template/colorscheme}
\input{template/macros}
\input{template/featurediagrams}

% COMMANDS TO LAYOUT AND ANNIMATE SLIDES

\newcommand{\lessonslearned}[3]{
	\subsection{Summary}
	\begin{frame}{\insertsection{} -- \insertsubsection}
		\leftandright{
			\mydefinition{Lessons Learned}{
				\begin{itemize}
					#1
				\end{itemize}
			}
			\uncover<2->{\mynote{Further Reading}{
				\small % references take space, can be a little smaller
				\begin{itemize}
					#2
				\end{itemize}
			}}
		}{
			\uncover<3->{\myexample{Practice}{
				\begin{itemize}
					#3
				\end{itemize}
			}}
		}
	\end{frame}
}

% TODO temporary hack to layout the slide overview in two colums
\renewcommand{\lectureoverview}{
%	\section*{Overview}
%	\subsection*{Overview}
	\begin{frame}{\insertsubtitle}
		\begin{multicols}{2}
        	\setlength{\parskip}{0ex}
			\tableofcontents
		\end{multicols}
	\end{frame}
}

\renewcommandx{\maketitle}[2][1=apr21-o25a,2=150]{
	{
	\usebackgroundtemplate{} % TODO temporary hack to enable missing pictures at title slide
	%\ifx {#1} \empty \else {\usebackgroundtemplate{\includegraphics[trim=0 0 0 #2,clip,width=\paperwidth]{#1}}} \fi     
	%\usebackgroundtemplate{\includegraphics[trim=0 0 0 #2,clip,width=\paperwidth]{#1}}
	\begin{frame}[plain]
		\vskip0pt plus 1filll
		\begin{beamercolorbox}[wd=\paperwidth,ht=4.5ex,dp=2ex,right]{titlebox}
			\LARGE\textbf{\inserttitle}\hspace*{20pt}
		\end{beamercolorbox}%
		\nointerlineskip%
		\begin{beamercolorbox}[wd=\paperwidth,ht=2.25ex,dp=1ex,right]{subtitlebox}
			\small 
			\ifx \insertsubtitle \empty \else \insertsubtitle\ $\vert$ \fi
			\insertauthor\
			\ifx \insertdate \empty \else $\vert$ \insertdate \fi
			\hspace*{20pt}
		\end{beamercolorbox}%
		\nointerlineskip%
		\begin{beamercolorbox}[wd=\paperwidth,ht=4.5ex,dp=2ex,left]{logobox}
			\centering
			\vspace{-1ex}
			\hspace{10pt}
			\includegraphics[height=4.5ex]{sp} % SPECIFY INSTITUTE LOGO HERE
			\hfill
			\includegraphics[height=4.5ex]{uulm}
			\hspace{10pt}
		\end{beamercolorbox}%
	\end{frame}
	}  
}

\renewcommand{\emph}[1]{{\color{blue}\textbf{#1}}}

%
%\newcommand{\onlyleft}[1]{
%	\halfpage{#1}
%}
%
%\newcommand{\onlyright}[1]{
%	~\hfill
%	\halfpage{#1}
%}
%
%\newcommand{\leftorright}[2]{
%	\uncover<1>{\halfpage{#1}}
%	\hfill
%	\uncover<3->{\halfpage{#2}}
%}
%
%\newcommand{\rightorleft}[2]{
%	\uncover<3->{\halfpage{#1}}
%	\hfill
%	\uncover<1>{\halfpage{#2}}
%}
%
%\newcommand{\leftthenright}[2]{
%	\halfpage{#1}
%	\hfill\pause
%	\halfpage{#2}
%}
%
%\newcommand{\leftandright}[2]{
%	\halfpage{#1}
%	\hfill
%	\halfpage{#2}
%}
%
%\newcommand{\leftmiddleandright}[3]{
%	\thirdpage{#1}
%	\hfill
%	\thirdpage{#2}
%	\hfill
%	\thirdpage{#3}
%}
%
%\newcommand{\leftmiddleorright}[3]{
%	\uncover<1>{\thirdpage{#1}}
%	\hfill
%	\uncover<3>{\thirdpage{#2}}
%	\hfill
%	\uncover<5->{\thirdpage{#3}}
%}
%
%\newcommand{\halfpage}[1]{\partofpage{48}{#1}}
%
%\newcommand{\thirdpage}[1]{\partofpage{31}{#1}}
%
%\newcommand{\mydefinition}[2]{
%	\begin{tcolorbox}[title=#1,colback=orange!10,colframe=orange!30,coltitle=black,fonttitle=\bfseries,left=1mm,right=1mm,top=1mm,bottom=1mm]
%		\begin{flushleft}
%			#2
%		\end{flushleft}
%	\end{tcolorbox}
%}
%
%\newcommand{\mydefinitiontight}[2]{
%	\begin{tcolorbox}[title=#1,colback=white,colframe=orange!30,coltitle=black,fonttitle=\bfseries,left=0mm,right=0mm,top=0mm,bottom=0mm]
%		\begin{flushleft}
%			#2
%		\end{flushleft}
%	\end{tcolorbox}
%}
%
%\newcommand{\mynote}[2]{
%	\begin{tcolorbox}[title=#1,colback=red!10,colframe=red!30,coltitle=black,fonttitle=\bfseries,left=1mm,right=1mm,top=1mm,bottom=1mm]
%		\begin{flushleft}
%			#2
%		\end{flushleft}
%	\end{tcolorbox}
%}

% TODO hack to make \leftandright work again in example boxes
\renewcommand{\myexample}[2]{
	\begin{tcolorbox}[title={\setlength{\parskip}{0ex}\vphantom{/}#1},colback=blue!10,colframe=blue!30,coltitle=black,fonttitle=\bfseries,left=1mm,right=1mm,top=1mm,bottom=1mm]
		\begin{flushleft}
			#2
		\end{flushleft}
	\end{tcolorbox}
}

%\newcommand{\myexampletight}[2]{
%	\begin{tcolorbox}[title=#1,colback=white,colframe=blue!30,coltitle=black,fonttitle=\bfseries,left=0mm,right=0mm,top=0mm,bottom=0mm]
%		\begin{flushleft}
%			#2
%		\end{flushleft}
%	\end{tcolorbox}
%}
