% UNIVERSITY-SPECIFIC ADJUSTMENTS
% or: a product line of product-line lectures ;-)
% usage: \def\university{ulm}

\ifdefined\university
\else
\def\university{}
\fi

\newcommand{\ifuniversity}[3][]{\ifthenelse{\equal{\university}{#2}}{#3}{#1}}
\newcommand{\unlessuniversity}[3][]{\ifuniversity[#3]{#2}{#1}}
\newcommand{\inputuniversity}[1]{\IfFileExists{#1-\university}{\input{#1-\university}}{}}

% TITLE
\title[SPL]{Software Product Lines} % default title for the course
\ifuniversity{magdeburg}{\title[Software Product Lines]{Implementation Techniques for Software Product Lines}}
\ifuniversity{wernigerode}{\title{Requirements Engineering II -- Software Product Lines}}

% LECTURERS AND TUTORS
\makeatletter
\let\author@old\author
\renewcommand{\author}[1]{
	\ifuniversity{ulm}{\author@old{Thomas Thüm, Chico Sundermann, Sebastian Krieter}}
	\ifuniversity{paderborn}{\author@old{Thomas Thüm, Paul Bittner}}
%	\ifuniversity{braunschweig}{\author@old{Thomas Thüm, Sebastian Krieter}
		\ifuniversity{braunschweig}{\author@old{Sebastian Krieter, Ruben Dunkel}}
	\ifuniversity{bern}{\author@old{Timo Kehrer, Sandra Greiner}}
	\ifuniversity{magdeburg}{\author@old{Gunter Saake, Elias Kuiter}}
	\ifuniversity{wernigerode}{\author@old{Elias Kuiter}}
	\ifuniversity{recording}{\author@old{#1}}
	\ifuniversity{anonymous}{\author@old{Anonymous Authors}}
	\ifuniversity{}{\author@old{#1}}
}
\makeatother

% COLOR SCHEME, LOGOS, PICTURES
\ifuniversity{recording}{
	\renewcommand{\deutsch}[1]{} % no German in English recordings
	\mode<beamer>{\renewcommand{\pic}[2][]{\includegraphics[#1]{#2}}} % avoid annoying tool tips during the recording
	\setpicture[550]{jun22-clouds3} % default picture
}{
	\hypersetup{linkcolor=foreground, citecolor=red, filecolor=red, runcolor=red, urlcolor=red, colorlinks=true} % emphasizing links, but not when recording
}

\ifuniversity{ulm}{
	\AtEndPreamble{ % copied from https://github.com/sp-uulm/FancyBeamerUULM/blob/main/fancyuulm.sty
		% uulm color scheme
		\definecolor{red}{HTML}{A32638}
		\definecolor{green}{HTML}{56AA1C}
		\definecolor{blue}{HTML}{26547C}
		\definecolor{orange}{HTML}{DF6D07}
		\definecolor{accent}{HTML}{A9A28D}
		\colorlet{accenttwo}{red} % specify faculty color here: red, green, blue, orange

		% beamer colors in darkmode
		\ifdarkmode
		\colorlet{red}{red!50!white}
		\colorlet{green}{green!50!white}
		\colorlet{blue}{blue!50!white}
		\colorlet{orange}{orange!50!white}
		\colorlet{accent}{accent!25!darkgray}
		\colorlet{accenttwo}{accenttwo!25!darkgray}
		\fi
	}

	\fancylogos{,softvare,,sp,,uulm,}
	\setpicture[550]{jun22-clouds3} % default picture
}

\ifuniversity{paderborn}{
	\AtEndPreamble{ % copied from https://github.com/SEatUPB/FancyBeamerUPB/blob/main/fancyupb.sty
		% upb color scheme
		% primary, barrierearm, cannot be mixed
		\definecolor{upbultrablau}{HTML}{0025AA} % headings, text hightlighting
		% secondary, not barrierearm, can be mixed
		\definecolor{upbarktisblau}{HTML}{58C6C7} % not allowed with white font
		% secondary, barrierearm, can be mixed
		\definecolor{upbmeerblau}{HTML}{3AA9C7} % not allowed with white font
		\definecolor{upbhimmelblau}{HTML}{2056AE}
		\definecolor{upbsaphirblau}{HTML}{181C63}
		\definecolor{upbirisviolett}{HTML}{7E3FA8}
		\definecolor{upbfuchsiarot}{HTML}{B43093}
		% tertiary, not barrierearm, cannot be mixed
		\definecolor{upbgranatpink}{HTML}{EE288A} % only for triangles
		\definecolor{upblimettengruen}{HTML}{A5CE42} % only for triangles

		% redefines colors used in fancybeamer
		\colorlet{red}{upbfuchsiarot}
		\colorlet{green}{upbarktisblau}
		\colorlet{blue}{upbhimmelblau}
		\colorlet{orange}{upbirisviolett}
		\colorlet{accent}{blue!80!white}
		\colorlet{accenttwo}{red!80!white}
		\ifdarkmode
		\colorlet{red}{red!90!white}
		\colorlet{green}{green!90!white}
		\colorlet{blue}{blue!90!white}
		\colorlet{orange}{orange!90!white}
		\colorlet{accent}{accent!25!darkgray}
		\colorlet{accenttwo}{accenttwo!25!darkgray}
		\fi

		% hack to force use of changed colors
		\UpdateBoxColor{definition}{blue}
		\UpdateBoxColor{example}{green}
		\UpdateBoxColor{note}{red}
	}

	\fancylogos{upb,upb-triangles}
}

\ifuniversity{braunschweig}{
	\usepackage{tubscolors}
	% redefine colors used in fancybeamer
	% Orange, OrangeLight (Yellow), OrangeDark (tubsRed)
	% Green, GreenLight, GreenDark
	% Blue, BlueLight, BlueDark
	% Violet, VioletLight, VioletDark
	% tubsGray (tubsGray60), tubsLightGray (tubsGray20)
	% tubsSecondaryLight, tubsSecondaryMedium, tubsSecondary, tubsSecondaryDark
	% x20, x40, x60, x80, x100

	\AtEndPreamble{
		\colorlet{red}{tubsRed}
		\colorlet{accent}{background}
		\colorlet{accenttwo}{red}
		\setbeamercolor{logobox}{bg=background}
		\setbeamercolor{myfooter}{fg=foreground,bg=accent}
		\setbeamercolor{subtitlebox}{fg=foreground,bg=accent}
		\fancylogos{tubs,isf}
		\ifdarkmode
			\colorlet{red}{red!90!white}
			\colorlet{green}{green!90!white}
			\colorlet{blue}{blue!90!white}
			\colorlet{orange}{orange!90!white}
			\colorlet{accenttwo}{accenttwo!25!darkgray}
			\setbeamercolor{mypagenumber}{fg=foreground,bg=accenttwo}
			\setbeamercolor{titlebox}{fg=foreground,bg=accenttwo}
			\fancylogos{tubs-black,isf}
		\fi

		% hack to force use of changed colors
		\UpdateBoxColor{definition}{orange}
		\UpdateBoxColor{example}{blue}
		\UpdateBoxColor{note}{red}
	}

	\setpicture[75]{iz} % default picture
}

\ifuniversity{bern}{
	\fancylogos{unibe}
}

\ifuniversity{magdeburg}{
	% OVGU colors: https://www.cd.ovgu.de/Logo_+Farbe_+Schrift/Farbe.html
	% FIN colors: https://www.cd.ovgu.de/Fakult%C3%A4ten/Informatik.html
	\definecolor{green}{RGB}{5,165,53} % natural sciences
	\definecolor{red}{RGB}{209,63,88} % mathematics
	\definecolor{orange}{RGB}{243,145,0} % humanities
	\definecolor{blue}{RGB}{0,104,180} % computer science
	\definecolor{accent}{RGB}{77,77,77} % accent gray
	\colorlet{accenttwo}{blue} % computer science
	\fancylogos{ovgu-blue}
}

\ifuniversity{wernigerode}{
	\definecolor{accent}{HTML}{a09377}
	\definecolor{accenttwo}{HTML}{e9e9e5}
	\fancylogos{hs-harz}
	\setpicture[400]{wernigerode-castle}
	\renewcommand{\faq}[3]{}
}

\ifuniversity{anonymous}{
	\fancylogos{}
	\renewcommand{\pic}[2][]{\includegraphics[#1]{#2}}
	\renewcommand{\deutsch}[1]{}
	\renewcommand{\deutschertitel}[1]{}
}

% QR CODES
\newcommand{\uploadpractice}{
	\centering
	\ifuniversity{magdeburg}{
		\fancyqr{https://bit.ly/spl-practice}\\[1ex]
		\href{https://bit.ly/spl-practice}{\texttt{bit.ly/spl-practice}}
	}
}