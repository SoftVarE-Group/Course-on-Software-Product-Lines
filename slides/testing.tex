\documentclass[
	aspectratio=169, % default is 43
	8pt, % font size, default is 11pt
	handout, % handout mode without animations, comment out to add animations
]{beamer}

\input{template/lecture}

\subtitle{11. Product-Line Testing}
\author{Thomas Thüm}

\begin{document}

\input{template/header}

% TODO add xkcd from SWT? \widexkcd{974} % salt 12s

\section{Product-Line Testing in Practice}

% TODO famous example for a product line failure?

\subsection{Recap: Quality Assurance}
\begin{frame}{Recap: Software Quality} % caution: slide copied to analysis lecture
	\rightorleft{
		\mydefinition{Quality \mysource{\ludewiglichter}}{Quality is the entirety of properties and characteristics of a product or process that indicate adequacy with respect to given requirements.}
		\mydefinition{Quality Assurance \mysource{\ludewiglichter}}{Quality assurance \deutsch{Qualitätssicherung} are all activities with the goal to improve the quality.}
	}{
		\vspace{-12mm}
		\href{https://commons.wikimedia.org/wiki/File:Andy_Hunt_programmer.jpg}{\includegraphics[width=\linewidth,trim=0 240 0 300,clip]{andy-hunt}}
		\vspace{-7mm}
		
		\mynote{Andy Hunt \mysource{\thepragmaticprogrammer}}{\mycite{No one in the brief history of computing has ever written a piece of perfect software. It's unlikely that you'll be the first.}}
		% co-authored The Pragmatic Programmer, known for the Agile Manifesto
	}
\end{frame}

\begin{frame}{Recap: Quality Assurance \mytitlesource{\ludewiglichter}} % caution: slide copied to analysis lecture
	\hfill%
	\only<1|handout:0>{\includegraphics[height=\textheightwithtitle,page=1]{quality-assurance}}%
	\only<2|handout:0>{\includegraphics[height=\textheightwithtitle,page=2]{quality-assurance}}%
	\only<3|handout:0>{\includegraphics[height=\textheightwithtitle,page=3]{quality-assurance}}%
	\only<4|handout:0>{\includegraphics[height=\textheightwithtitle,page=4]{quality-assurance}}%
	\only<5|handout:1>{\includegraphics[height=\textheightwithtitle,page=5]{quality-assurance}}%
	\only<6|handout:0>{\includegraphics[height=\textheightwithtitle,page=7]{quality-assurance}}%
	% TODO check why this mindmap has a white background. could be large without a white background when using \textheightwithouttitle
\end{frame}

\begin{frame}{Recap: Software Testing}
	\leftorright{
		\vspace{7mm}
		\uncover<1-3>{\mydefinition{Software Testing \mysource{\sommerville}}{\mycite{Testing is intended to show that a program does what it is intended to do and to discover program defects before it is put into use.}}{}}
		\uncover<2-3>{\mydefinition{Validation Testing \mysource{\sommerville}}{\mycite{Demonstrate to the developer and the customer that the software meets its requirements.}}{}}
		\uncover<3-3>{\mydefinition{Defect Testing \mysource{\sommerville}}{\mycite{Find inputs or input sequences where the behavior of the software is incorrect, undesirable, or does not conform to its specification.}}{}}
	}{
		\vspace{-12mm}
		\uncover<4>{\mynote{V\&V \mysource{\seeconomics}}{\mycite{\emph{Validation}: Are we building the right product?\\\emph{Verification}: Are we building the product right?}}} 
		% TODO better visualization of V&V (see Inas slides). move to V model?
		\vspace{-2mm}
		\uncover<5>{\mynote{Stages of Testing \mysource{\sommerville}}{
			\begin{itemize}
				\setlength\itemsep{.1em}
				\item[1.] \mycite{\emph{Development testing}, where the system is tested during development to discover
				bugs and defects}
				\item[2.] \mycite{\emph{Release testing}, where a separate testing team tests a complete version of the
				system before it is released to users}
				\item[3.] \mycite{\emph{User testing}, where users or potential users of a system test the system in their
				own environment}
			\end{itemize}
		}}
		\vspace{-2mm}
		\uncover<6>{\mynote{}{\mycite{In \emph{manual testing}, a tester runs the program with some test data and
				compares the results to their expectations. [...] In \emph{automated testing}, the tests are encoded in a program that is run each time the system under development is to be tested.} \mysource{\sommerville}}}
	}
\end{frame}

\begin{frame}
	\leftorright{
		\href{https://commons.wikimedia.org/wiki/File:Edsger_Wybe_Dijkstra.jpg}{\includegraphics[width=\linewidth,trim=0 425 0 75,clip]{edsger-dijkstra}}
		\vspace{-7mm}
		
		\mynote{Edsger W. Dijkstra (1972) \mysource{\thehumbleprogrammer}}{\mycite{Program testing can be a very effective way to show the presence of bugs, but it is hopelessly inadequate for showing their absence.}}
		% 1930-2002, ACM Turing Award winner
	}{
		\todo{illustration for many configurations from previous slides}
	}
\end{frame}

\subsection{Testing All Configurations}
\begin{frame}{\insertsubsection}
	\leftorright{
		\centering\featureDiagramConfigurableDatabase
		
		\myexample{Recap: 26 Valid Configurations \lecturemodeling}{
			\todo{update list based on the example (here and on later slides)}
			\footnotesize
			\leftandright{
				$\{B,G,W\}$\\
				$\{B,P,W\}$\\
				$\{B,G,P,W\}$\\
				$\{B,D,W\}$\\
				$\{B,G,D,W\}$\\
				$\{B,P,D,W\}$\\
				$\{B,G,P,D,W\}$\\
				$\{B,P,T,W\}$\\
				$\{B,G,P,T,W\}$\\
				$\{B,D,T,W\}$\\
				$\{B,G,D,T,W\}$\\
				$\{B,P,D,T,W\}$\\
				$\{B,G,P,D,T,W\}$
			}{
				$\{B,G,U\}$\\
				$\{B,P,U\}$\\
				$\{B,G,P,U\}$\\
				$\{B,D,U\}$\\
				$\{B,G,D,U\}$\\
				$\{B,P,D,U\}$\\
				$\{B,G,P,D,U\}$\\
				$\{B,P,T,U\}$\\
				$\{B,G,P,T,U\}$\\
				$\{B,D,T,U\}$\\
				$\{B,G,D,T,U\}$\\
				$\{B,P,D,T,U\}$\\
				$\{B,G,P,D,T,U\}$
			}
		}
	}{
		\vspace{-7mm}
		\mynote{Discussion}{
			\begin{itemize}
				\setlength\itemsep{.5em}
				\item only feasible for small product lines (few valid configurations)
				\item redundant test effort
				\item large product lines: not even feasible to generate and compile all configurations
				\item (some) large product lines: not even the number of valid configurations is known
			\end{itemize}
		}
		\myexampletight{\small Recap: Industrial Configuration Spaces \lecturemodeling}{
			\centering\evaluatingsharpsatsolverslink{\includegraphics[width=.8\linewidth,page=6,trim=50 210 320 440,clip]{2020/2020-VaMoS-Sundermann}}
		}
	}
\end{frame}

\begin{frame}{Recap: Feature Model of the Linux Kernel}
	\vspace{28mm}~\hspace{-15mm}\href{https://dl.acm.org/doi/abs/10.1145/3382025.3414943}{\includegraphics[width=1.2\linewidth,page=1,trim=100 510 100 170,clip]{2020/2020-SPLC-Thuem}}
\end{frame}

\newcommand{\eemph}[1]{{\color{red}\textbf{#1}}}

\subsection{Testing One Configuration}
\begin{frame}{\insertsubsection}
	\leftorright{
		\centering\featureDiagramConfigurableDatabase
		
		\myexample{Which Valid Configuration to Test?}{
			\footnotesize
			\leftandright{
				$\{B,G,W\}$\\
				$\{B,P,W\}$\\
				$\{B,G,P,W\}$\\
				$\{B,D,W\}$\\
				$\{B,G,D,W\}$\\
				$\{B,P,D,W\}$\\
				$\{B,G,P,D,W\}$\\
				$\{B,P,T,W\}$\\
				$\{B,G,P,T,W\}$\\
				$\{B,D,T,W\}$\\
				$\{B,G,D,T,W\}$\\
				$\{B,P,D,T,W\}$\\
				\eemph{$\{B,G,P,D,T,W\}$}
			}{
				$\{B,G,U\}$\\
				$\{B,P,U\}$\\
				$\{B,G,P,U\}$\\
				$\{B,D,U\}$\\
				$\{B,G,D,U\}$\\
				$\{B,P,D,U\}$\\
				$\{B,G,P,D,U\}$\\
				$\{B,P,T,U\}$\\
				$\{B,G,P,T,U\}$\\
				$\{B,D,T,U\}$\\
				$\{B,G,D,T,U\}$\\
				$\{B,P,D,T,U\}$\\
				\emph{$\{B,G,P,D,T,U\}$}
			}
		}
	}{
		\mynote{Discussion}{
			\begin{itemize}
				\setlength\itemsep{.4em}
				\item applicable to large product lines
				\item no redundant test effort (from configurations)
				\item often not feasible to test all features in one configuration (e.g., Win and Unix)
				\item strategy in practice: all-yes-config (configuration with many features selected)
				\item unnoticed feature interactions \lectureinteractions
			\end{itemize}
		}
		\todo{picture on known interaction from \lectureinteractions}
	}
\end{frame}

% Dijkstra: we cannot test everything, and not all configurations
% complete test: all inputs, for all products/variants/configurations
% sampling technique (Stichprobenverfahren)
% recap: Testing All Configurations (remember numbers from intro? take 1ms per config)
% recap: Testing One Configuration (cp. allyesconfig, feature interactions may not be visible)

\subsection{Expert Knowledge in Sampling}

\subsection{Random Sampling}

\subsection{Excursus: Uniform Random Sampling}

\subsection{Testing the Linux Kernel}
% allyesconfig

%\subsection{Automation in Product Sampling} ???

%\subsection{Missing: Test-Case Selection/Generation}
% What to test for those configurations? Variable unit tests? Avoid redundant testing?

%\input{content/missing}

\lessonslearned{
	\item \ldots
}{
	\item \ldots
}{
	\item \ldots
}

\sectionend

\section{Combinatorial Interaction Testing}

\subsection{Test-Case Design in Single-System Engineering}
\begin{frame}{Recap: Test-Case Design \deutschertitel{Testfallentwurf}}
	\leftorright{
		\uncover<1>{\mydefinition{Systematic Test \mysource{\ludewiglichter}}{A systematic test is a test, in which
			\begin{itemize}
				\setlength\itemsep{.1em}
				\item[1.] the setup is defined,
				\item[2.] the inputs are chosen systematically,
				\item[3.] the results are documented and evaluated by criteria being defined prior to the test. 
			\end{itemize}
		}{}}
		\uncover<2>{\mydefinition{Test Case \mysource{\ludewiglichter}}{In a test, a number of test cases are executed, whereas each test case consists \emph{input values} for a single execution and \emph{expected outputs}. An \emph{exhaustive test} refers a test in which the test cases exercise all the possible inputs.}{}}
	}{
		\mynote{Goal \mysource{\ludewiglichter}}{Detect a large number of failures with a low number of test cases. A test case (execution) is \emph{positive}, if it detects a failure, and \emph{successful} if it detects an unknown failure.}
		\mydefinition{An ideal test case is \ldots \mysource{\ludewiglichter}}{
			\begin{itemize}
				\setlength\itemsep{.1em}
				\item representative: represents a large number of feasible test cases
				\item failure sensitive: has a high probability to detect a failure
				\item non-redundant: does not check what other test cases already check
			\end{itemize}
		}{}
	}
\end{frame}

\begin{frame}{Recap: Black-Box Testing \deutschertitel{Funktionstest}}
	\leftandright{
		\mynote{Motivation \mysource{\ludewiglichter}}{
			\begin{itemize}
				\setlength\itemsep{.1em}
				\item source code not always available (e.g., outsourced components, obfuscated code)
				\item specific test cases derived from logical ones using arbitrary values
				\item specification not incorporated so far (only for expected results)
				\item invalid inputs not tested
				\item errors are not equally distributed
			\end{itemize}
		}
		\vspace{-1mm}
		\mydefinition{Black-Box Testing \mysource{\ludewiglichter}}{
			\begin{itemize}
				\setlength\itemsep{.1em}
				\item test-case design based on specification
				\item source code and its inner structure is ignored (assumed as a black-box)
			\end{itemize}
		}{}
	}{
		\todo{discuss difference between test cases and sample configurations}
		
		\todo{table with chances how to combine white-box and black-box}
	}
\end{frame}

\subsection{Pairwise Interaction Testing}
\begin{frame}{\insertsubsection}
	\leftorright{
		\mydefinition{Pairwise Interaction Testing}{
			\begin{itemize}
				\setlength\itemsep{.5em}
				\item test a sample set $S \subseteq C$ of all valid configurations $C$ with pairwise coverage
				\item every pairwise interaction is covered by at least one configuration in the sample $S$
			\end{itemize}
		}
		\myexample{Configurations with the Interaction Get $\wedge$ Put}{
			\footnotesize
			\leftandright{
				$\{B,G,W\}$\\
				$\{B,P,W\}$\\
				\emph{$\{B,G,P,W\}$}\\
				$\{B,D,W\}$\\
				$\{B,G,D,W\}$\\
				$\{B,P,D,W\}$\\
				\eemph{$\{B,G,P,D,W\}$}\\
				$\{B,P,T,W\}$\\
				\eemph{$\{B,G,P,T,W\}$}\\
				$\{B,D,T,W\}$\\
				$\{B,G,D,T,W\}$\\
				$\{B,P,D,T,W\}$\\
				\eemph{$\{B,G,P,D,T,W\}$}
			}{
				$\{B,G,U\}$\\
				$\{B,P,U\}$\\
				\eemph{$\{B,G,P,U\}$}\\
				$\{B,D,U\}$\\
				$\{B,G,D,U\}$\\
				$\{B,P,D,U\}$\\
				\eemph{$\{B,G,P,D,U\}$}\\
				$\{B,P,T,U\}$\\
				\eemph{$\{B,G,P,T,U\}$}\\
				$\{B,D,T,U\}$\\
				$\{B,G,D,T,U\}$\\
				$\{B,P,D,T,U\}$\\
				\eemph{$\{B,G,P,D,T,U\}$}
			}
		}
	}{
		\mynote{Discussion}{
			\begin{itemize}
				\setlength\itemsep{.4em}
				\item applicable to large product lines
				\item reduced redundant effort compared to testing all configurations
				\item coverage guarantee (opposed to random configurations)
				\item still requires good test cases (program inputs)
				\item hard to compute small sample sets
			\end{itemize}
		}
		\mydefinition{Pairwise Interactions}{
			\begin{itemize}
				\setlength\itemsep{.5em}
				\item \emph{up-to} four interactions between $A$ and $B$
				\item both selected: $A \wedge B$
				\item one selected: $\neg A \wedge B$, $A \wedge \neg B$
				\item none selected: $\neg A \wedge \neg B$
			\end{itemize}
		}
	}
\end{frame}

\newcommand{\pair}[2]{$#1 \wedge #2$ & $#1 \wedge \neg #2$ & $\neg #1 \wedge #2$ & $\neg #1 \wedge \neg #2$\\}
\newcommand{\redandgray}[1]{\only<#1-| handout:#1->{\color{black}}\only<#1| handout:#1>{\color{blue}}}
\newcommand{\epair}[6]{
	{\redandgray{#3}$#1 \wedge #2$} & 
	{\redandgray{#4}$#1 \wedge \neg #2$} & 
	{\redandgray{#5}$\neg #1 \wedge #2$} & 
	{\redandgray{#6}$\neg #1 \wedge \neg #2$}\\
}

\begin{frame}{Pairwise Coverage}
	\leftorright{
		\vspace{5mm}
		\mydefinition{Interactions to Cover}{
			\begin{itemize}
				\setlength\itemsep{.5em}
				\item exclude invalid combinations (e.g., $W \wedge U$)
				\item exclude abstract features (e.g., $API$)
				\item exclude features contained in every configuration (e.g., $B$)
			\end{itemize}
			\todo{add formal definitions based on \lecturemodeling}
		}

		\centering\featureDiagramConfigurableDatabase
	}{
		\vspace{-5mm}
		\myexample{Pairwise Interactions}{
			\centering\footnotesize\color{lightgray}
			\begin{tabular}{llll}
				\epair{G}{P}{3}{2}{1}{6}
				\epair{G}{D}{2}{3}{1}{5}
				\epair{G}{T}{3}{2}{1}{5}
				\epair{G}{W}{4}{2}{1}{6}
				\epair{G}{U}{2}{4}{6}{1}
				\epair{P}{D}{1}{3}{2}{4}
				\epair{P}{T}{1}{5}{6}{2}
				\epair{P}{W}{1}{3}{4}{2}
				\epair{P}{U}{3}{1}{2}{4}
				\epair{D}{T}{1}{2}{3}{4}
				\epair{D}{W}{1}{2}{4}{3}
				\epair{D}{U}{2}{1}{3}{4}
				\epair{T}{W}{1}{3}{4}{2}
				\epair{T}{U}{3}{1}{2}{4}
				& {\redandgray{1}$W \wedge \neg U$} & {\redandgray{2}$\neg W \wedge U$} & \\
			\end{tabular} 
		}
		\myexample{Pairwise Coverage with Six Configurations}{
			\footnotesize\color{lightgray}
			{\redandgray{1}$\{B,P,D,T,W\}$}\\
			{\redandgray{2}$\{B,G,D,U\}$}\\
			{\redandgray{3}$\{B,G,P,T,U\}$}\\
			{\redandgray{4}$\{B,G,W\}$}\\
			{\redandgray{5}$\{B,P,W\}$}\\
			{\redandgray{6}$\{B,D,T,U\}$}\\
		}
	}
\end{frame}
% TODO use different colors for the different configurations (instead of separate handouts)

\subsection{T-Wise Interaction Testing}
\begin{frame}{\insertsubsection}
	\leftorright{
		\mydefinition{T-Wise Interaction Testing}{
			\begin{itemize}
				\setlength\itemsep{.5em}
				\item generalization of pairwise interaction testing
				\item t-wise coverage: every t-wise interaction is covered by at least one configuration in the sample
				\item t=1: every feature is selected and also deselected
				\item t=2: pairwise interaction coverage
				\item t=3: every combination of three features
			\end{itemize}
		}
	}{
		\myexample{{T=3 Interactions for the Features $G$, $P$, and $D$}}{
			$G \wedge P \wedge D$ \hfill $G \wedge P \wedge \neg D$ \hfill $G \wedge \neg P \wedge D$
			
			$G \wedge \neg P \wedge \neg D$ \hfill $\neg G \wedge P \wedge D$ \hfill $\neg G \wedge P \wedge \neg D$
			
			$\neg G \wedge \neg P \wedge D$ \hfill $\neg G \wedge \neg P \wedge \neg D$
		}
	}
\end{frame}

\subsection{Algorithms for Combinatorial Interaction Testing}

% TODO \subsection{A Greedy Algorithm}
\begin{frame}{\insertsubsection}
%\begin{frame}{Einfache Heuristik für Pairwise Interaction Testing}
%	Greedy-Algorithmus: Wähle immer die Konfiguration als nächstes, die die meisten fehlenden Interaktionen abdeckt
%	\vspace{2mm}\pause
%	\begin{itemize}
%		\item Erste Konfiguration frei wählbar (jede deckt am Anfang die gleiche Anzahl von Interaktionen ab: eine pro Paar)
%		\item Stoppe wenn keine Interaktionen übrig
%		\item Findet ggfs.\ nicht die kleinste Teilmenge an Konfigurationen
%		\item Bessere Algorithmen wurden in den letzten Jahren vorgeschlagen (z.B. ICPL)
%	\end{itemize}
\end{frame}
% TODO introduce ICPL

% TODO \subsection{Meta-Heuristic Search}

\subsection{Efficiency of Combinatorial Interaction Testing}
%\subsection{Combinatorial Interaction Testing with ICPL}
\begin{frame}{\insertsubsection\ \mytitlesource{\icpl}}
	\leftorright{
		\myexampletight{Assumption: All Features are Optional}{
			\centering\footnotesize\featureDiagramEightOptionalFeatures
		}
		
		\myexampletight{Number of Configurations in Pairwise Sample}{
			\includegraphics[width=\linewidth,page=4]{citplots}
		}
	}{%
		\myexampletight{Assumption: All Features are Optional}{
			\centering\footnotesize\featureDiagramEightOptionalFeatures
		}
		
		\myexampletight{Number of Configurations in T-Wise Sample}{
			\includegraphics[width=\linewidth,page=5]{citplots}
		}
	}
\end{frame}

\begin{frame}{\insertsubsection\ \mytitlesource{\icpl}}
	\leftorright{
		\myexampletight{Time in Minutes to Compute Sample}{
			\includegraphics[width=\linewidth,page=2]{citplots}

			\begin{itemize}
				\setlength\itemsep{.5em}
				\item about 9h for Linux
				\item 480 configuration in pairwise sample
			\end{itemize}
		}
	}{
		\myexampletight{Number of Configurations in Sample}{
			\includegraphics[width=\linewidth,page=3]{citplots}

			\begin{itemize}
				\setlength\itemsep{.5em}
				\item Linux kernel v2.6.28.6 (February 2009)
				\item 6,888 features
				\item 187,193 clauses in conjunctive normal form
			\end{itemize}
		}
	}
\end{frame}

% TODO distinguish testing efficiency and sampling efficiency

\subsection{Effectiveness of Combinatorial Interaction Testing}
\begin{frame}{\insertsubsection}
	\leftorright{
		\myexampletight{Effectivity of Interaction Testing \mysource{\href{https://ieeexplore.ieee.org/document/1321063}{Kuhn et al.\ 2004}}}{
			\includegraphics[width=\linewidth,page=1]{citplots}
		}
	}{
		\mynote{Trade-Off}{large t: high coverage (more effective)
			
			small t: low testing effort (more efficient)}
	}
\end{frame}

\lessonslearned{
	\item \ldots
}{
	\item \ldots
}{
	\item \ldots
}

\sectionend

\section{Solution-Space Sampling}

\subsection{Coverage in Single-System Engineering}
\begin{frame}{Recap: Coverage in White-Box Testing \mytitlesource{\ludewiglichter}}
	\vspace{-7mm}
	\leftorright{
		\mydefinition{White-Box Testing \deutsch{Strukturtest}}{
			\begin{itemize}
				\setlength\itemsep{.1em}
				\item inner structure of test object is used
				\item idea: coverage of structural elements
				\item code translated into control flow graph
				\item specific test case (concrete inputs)\\derived from logical test case (conditions)\\derived from path in control flow graph
			\end{itemize}
		}{}
	}{
		\mydefinition{Coverage Criteria \deutsch{Überdeckungskriterien}}{
			\begin{itemize}
				\setlength\itemsep{.1em}
				\item[1.] statement coverage \deutsch{Anweisungsüberdeck.}: all statements are executed for at least one test case
				\uncover<3->{\item[2.] branching coverage \deutsch{Zweigüberdeckung}: statement coverage and for each branching statement all branches have been exercised} % TODO not so easy to define as percentage
				\uncover<4->{\item[3.] term coverage \deutsch{Termüberdeckung}: branching coverage and terms ($n$) used in a branching statement are combined exhaustively ($2^n$)\hfill(simplified)}
				% TODO discuss path coverage?
			\end{itemize}
		}{}
	}
\end{frame}

\subsection{Coverage of Ifdef Blocks}
\begin{frame}{\insertsubsection}
	%\leftorright{
		\myexample{An Elevator Product Line \mysource{\samplingsurvey}}{
			\includegraphics[width=\linewidth,page=3,trim=40 530 70 100,clip]{2018/2018-SPLC-Varshosaz}
		}
%		\mynote{}{
			\begin{itemize}
				\item compiler error in Line~29 for partial configuration $(\{FIFO\},\{DirectedCall\})$ / feature interaction $FIFO \pand \pnot DirectedCall$: field \texttt{dreq} undefined
				\item null pointer exception in Line~8 for partial configuration $(\{DirectedCall\},\{FIFO\})$ / feature interaction $DirectedCall \pand \pnot FIFO$
			\end{itemize}
%		}
%	}{
%	}
\end{frame}

\subsection{Presence-Condition Coverage}

%\subsection{Encoding Solution Space in Feature Models}

\subsection{Overview on Coverage Criteria}
\begin{frame}{\insertsubsection}
	%\leftorright{
		\mydefinition{Techniques \& Coverage Criteria \mysource{\samplingsurvey}}{
			\includegraphics[width=\linewidth,page=4,trim=50 100 310 610,clip]{2018/2018-SPLC-Varshosaz}
		}
%	}{
%	}
\end{frame}

\subsection{Overview on Input for Sampling Algorithms}
\begin{frame}{\insertsubsection}
	\leftandright{
		\mydefinition{Input Data \mysource{\samplingsurvey}}{
			\includegraphics[width=\linewidth,page=3,trim=350 430 90 310,clip]{2018/2018-SPLC-Varshosaz}
		}
		\myexample{Domain Knowledge \mysource{\samplingsurvey}}{
			\begin{itemize}
				\item except the feature model
				\item e.g., configurations choosen by experts
				\item e.g., feature model specialized prior to sampling
			\end{itemize}
		}
	}{
		\myexample{Part 2: Combinatorial Interaction Testing}{
			\begin{itemize}
				\item (Problem-Space Sampling)
				\item \emph{feature model} used to consider only valid configurations
			\end{itemize}
		}
		\myexample{Part 3: Solution-Space Sampling}{
			\begin{itemize}
				\item mapping from features to \emph{implementation artifacts} used
				\item \emph{feature model} used to consider only valid configurations
			\end{itemize}
		}
		\myexample{Combinatorial Reduction of Tests \mysource{\reducingconfigurations}}{
			\begin{itemize}
				\item which configurations matter for each test?
				\item analyze \emph{unit tests} and \emph{impl. artifacts}
				\item \emph{feature model} used to consider only valid configurations
			\end{itemize}
		}
	}
\end{frame}

\lessonslearned{
	\item \ldots
}{
	\item \ldots
}{
	\item \ldots
}











%\subsection{Recap: Linux Feature Model} % TODO slide repeated from above
%\begin{frame}{\insertsubsection}
%	\vspace{28mm}~\hspace{-15mm}\href{https://dl.acm.org/doi/abs/10.1145/3382025.3414943}{\includegraphics[width=1.2\linewidth,trim=100 510 100 170,clip]{linux-bdd}}
%\end{frame}

% TODO how Linux is developed: patches on mailing list, only considered if not rejected by CI, what happens in CI

% TODO variant reduction, prevent the explosion. marketing wants them all. engineering and quality assurance too expensive.

% TODO \subsection{Choose Features Wisely}
%\begin{frame}{\insertsubsection}
%	\leftorright{
%		% TODO \myexampletight{John Ferguson Smart (2017)}{\centering\href{https://twitter.com/wakaleo/status/854702550469234692}{\includegraphics[width=.98\linewidth,angle=2,trim=0 0 5 0,clip]{unnecessary-features}}}
%		% 
%	}{
%		\centering\href{https://commons.wikimedia.org/wiki/File:John_Carmack_at_GDCA_2017_--_1_March_2017_(cropped).jpeg}{\includegraphics[width=.47\linewidth,trim=0 0 0 0,clip]{john-carmack}}
%		\vspace{-7mm}
%		
%		\mynote{John Carmack (born 1970) \mysource{\href{https://www.ics.uci.edu/~pattis/quotations.html\#C}{uci.edu}}}{\mycite{The important point is that the cost of adding a feature isn't just the time it takes to code it. The cost also includes the addition of an obstacle to future expansion. %Sure, any given feature list can be implemented, given enough coding time. But in addition to coming out late, you will usually wind up with a codebase that is so fragile that new ideas that should be dead-simple wind up taking longer and longer to work into the tangled existing web. 
%		[...] The trick is to pick the features that don't fight each other.}}
%		% video game developer, co-founder of a video game company
%	}
%\end{frame}

% TODO \subsection{Number of Features in Linux}
%\begin{frame}{\insertsubsection\ \mytitlesource{\href{https://www4.cs.fau.de/Ausarbeitung/MA-I4-2015-04-Hengelein.pdf}{Hengelein 2015}}}
%	\partofpage{70}{
%		% TODO \myexampletight{{2005--2015: Number of Features Tripled}}{\includegraphics[width=\linewidth]{linux-features}}
%	}
%\end{frame}

%\lessonslearned{
%	\item Testing software product lines
%	\item All configurations? one configuration? feature interactions!
%	\item Combinatorial interaction testing: pairwise and t-wise
%	\item Sample coverage (effectiveness) vs sample size (testing efficiency) vs time to compute the sample (sampling efficiency)
%	\item Further Reading: \icpl
%}{
%	\item Quiz on the complete product-line lecture
%	\item Post questions to Moodle, if any
%	\\\hfill\qrcode{https://moodle.uni-ulm.de/mod/moodleoverflow/discussion.php?d=4496} % TODO in 2023 update link
%}













\input{template/footer}

%\begin{frame}{Example}
%	\includegraphics[width=\linewidth,page=3,trim=0 40 0 40,clip]{2D Analysis/2019-10-17 SPP1593 2Danalysis.pdf}
%\end{frame}

\end{document}
