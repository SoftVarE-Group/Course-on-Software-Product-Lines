\input{template/lecture}

\subtitle{11. Product-Line Testing}
\author{Thomas Thüm}

\begin{document}

\input{template/header}

\section{Product-Line Testing in Practice}

\begin{frame}{Recap: Software Quality}
	\rightorleft{
		\mydefinition{Quality \mysource{\ludewiglichter}}{Quality is the entirety of properties and characteristics of a product or process that indicate adequacy with respect to given requirements.}
		\mydefinition{Quality Assurance \mysource{\ludewiglichter}}{Quality assurance \deutsch{Qualitätssicherung} are all activities with the goal to improve the quality.}
	}{
		\vspace{-12mm}
		\href{https://commons.wikimedia.org/wiki/File:Andy_Hunt_programmer.jpg}{\includegraphics[width=\linewidth,trim=0 240 0 300,clip]{andy-hunt}}
		\vspace{-7mm}
		
		\mynote{Andy Hunt \mysource{\thepragmaticprogrammer}}{\mycite{No one in the brief history of computing has ever written a piece of perfect software. It's unlikely that you'll be the first.}}
		% co-authored The Pragmatic Programmer, known for the Agile Manifesto
	}
\end{frame}

\subsection{Recap: Quality Assurance}
\begin{frame}{Recap: Quality Assurance \mytitlesource{\ludewiglichter}}
	\vspace{-8mm}
	\hfill
	\todo{mindmap on quality assurance}
%	\begin{tikzpicture}
%		\path[small mindmap,
%		every node/.style={concept,font=\scriptsize},
%		emph/.style={font=\bfseries\scriptsize},
%		hide/.style={visible on=<1->},
%		concept color=uulmaccent!20,
%		level 1/.append style={level distance=25mm,sibling angle=360/6},
%		level 2/.append style={level distance=20mm,sibling angle=360/6},
%		level 3/.append style={level distance=20mm,sibling angle=360/8},
%		]
%		node {Quality Assurance \deutsch{Qualitätssicherung}}
%		[counterclockwise from=210]
%		child[visible on={<1->}] { node {constructive} 
%			[clockwise from=225]
%			child[concept color=blue!20] { node {Coding Guidelines} }
%		}
%		child[visible on={<2->}] { node {analytical} 
%			[counterclockwise from=240]
%			child[concept color=green!20,visible on={<3->}] { node {analysis}
%				[counterclockwise from=180]
%				child { node {Compilation} }
%				child { node {Code Reviews} }
%			}
%			child[concept color=red!20,visible on={<4->}] { node {execution}
%				[counterclockwise from=315]
%				child { node {White-Box Testing} }
%				child { node {Black-Box Testing} }
%			}
%		}
%		child[visible on={<5->}] { node {organizational} 
%			[clockwise from=-45]
%			child[concept color=orange!20] { node {Software Project Management} }
%		}
%		;
%	\end{tikzpicture}
\end{frame}

\begin{frame}{Recap: Software Testing}
	\leftorright{
		\vspace{7mm}
		\uncover<1-3>{\mydefinition{Software Testing \mysource{\sommerville}}{\mycite{Testing is intended to show that a program does what it is intended to do and to discover program defects before it is put into use.}}{}}
		\uncover<2-3>{\mydefinition{Validation Testing \mysource{\sommerville}}{\mycite{Demonstrate to the developer and the customer that the software meets its requirements.}}{}}
		\uncover<3-3>{\mydefinition{Defect Testing \mysource{\sommerville}}{\mycite{Find inputs or input sequences where the behavior of the software is incorrect, undesirable, or does not conform to its specification.}}{}}
	}{
		\vspace{-12mm}
		\uncover<4>{\mynote{V\&V \mysource{\seeconomics}}{\mycite{\emph{Validation}: Are we building the right product?\\\emph{Verification}: Are we building the product right?}}} 
		% TODO better visualization of V&V (see Inas slides). move to V model?
		\vspace{-2mm}
		\uncover<5>{\mynote{Stages of Testing \mysource{\sommerville}}{
			\begin{itemize}
				\setlength\itemsep{.1em}
				\item[1.] \mycite{\emph{Development testing}, where the system is tested during development to discover
				bugs and defects}
				\item[2.] \mycite{\emph{Release testing}, where a separate testing team tests a complete version of the
				system before it is released to users}
				\item[3.] \mycite{\emph{User testing}, where users or potential users of a system test the system in their
				own environment}
			\end{itemize}
		}}
		\vspace{-2mm}
		\uncover<6>{\mynote{}{\mycite{In \emph{manual testing}, a tester runs the program with some test data and
				compares the results to their expectations. [...] In \emph{automated testing}, the tests are encoded in a program that is run each time the system under development is to be tested.} \mysource{\sommerville}}}
	}
\end{frame}

\begin{frame}
	\leftorright{
		\href{https://commons.wikimedia.org/wiki/File:Edsger_Wybe_Dijkstra.jpg}{\includegraphics[width=\linewidth,trim=0 425 0 75,clip]{edsger-dijkstra}}
		\vspace{-7mm}
		
		\mynote{Edsger W. Dijkstra (1972) \mysource{\thehumbleprogrammer}}{\mycite{Program testing can be a very effective way to show the presence of bugs, but it is hopelessly inadequate for showing their absence.}}
		% 1930-2002, ACM Turing Award winner
	}{
		\todo{illustration for many configurations from previous slides}
	}
\end{frame}

\begin{frame}{Recap: Feature Model of the Linux Kernel}
	\vspace{28mm}~\hspace{-15mm}\href{https://dl.acm.org/doi/abs/10.1145/3382025.3414943}{\includegraphics[width=1.2\linewidth,page=1,trim=100 510 100 170,clip]{2020/2020-SPLC-Thuem}}
\end{frame}

% Dijkstra: we cannot test everything, and not all configurations
% complete test: all inputs, for all products/variants/configurations
% sampling technique (Stichprobenverfahren)
% recap: Testing All Configurations (remember numbers from intro? take 1ms per config)
% recap: Testing One Configuration (cp. allyesconfig, feature interactions may not be visible)

\subsection{Expert Knowledge in Sampling}

\subsection{Random Sampling}

\subsection{Excursus: Uniform Random Sampling}

\subsection{Testing the Linux Kernel}
% allyesconfig

%\subsection{Automation in Product Sampling} ???

%\subsection{Missing: Test-Case Selection/Generation}
% What to test for those configurations? Variable unit tests? Avoid redundant testing?

%\input{content/missing}

\lessonslearned{
	\item \ldots
}{
	\item \ldots
}{
	\ldots
}

\sectionend

\section{Combinatorial Interaction Testing}

\subsection{Test-Case Design in Single-System Engineering}
\begin{frame}{Recap: Test-Case Design \deutschertitel{Testfallentwurf}}
	\leftorright{
		\uncover<1>{\mydefinition{Systematic Test \mysource{\ludewiglichter}}{A systematic test is a test, in which
			\begin{itemize}
				\setlength\itemsep{.1em}
				\item[1.] the setup is defined,
				\item[2.] the inputs are chosen systematically,
				\item[3.] the results are documented and evaluated by criteria being defined prior to the test. 
			\end{itemize}
		}{}}
		\uncover<2>{\mydefinition{Test Case \mysource{\ludewiglichter}}{In a test, a number of test cases are executed, whereas each test case consists \emph{input values} for a single execution and \emph{expected outputs}. An \emph{exhaustive test} refers a test in which the test cases exercise all the possible inputs.}{}}
	}{
		\mynote{Goal \mysource{\ludewiglichter}}{Detect a large number of failures with a low number of test cases. A test case (execution) is \emph{positive}, if it detects a failure, and \emph{successful} if it detects an unknown failure.}
		\mydefinition{An ideal test case is \ldots \mysource{\ludewiglichter}}{
			\begin{itemize}
				\setlength\itemsep{.1em}
				\item representative: represents a large number of feasible test cases
				\item failure sensitive: has a high probability to detect a failure
				\item non-redundant: does not check what other test cases already check
			\end{itemize}
		}{}
	}
\end{frame}

\begin{frame}{Recap: Black-Box Testing \mytitlesource{\ludewiglichter}}
	\leftandright{
		\mynote{Motivation}{
			\begin{itemize}
				\setlength\itemsep{.1em}
				\item source code not always available (e.g., outsourced components, obfuscated code)
				\item specific test cases derived from logical ones using arbitrary values
				\item specification not incorporated so far (only for expected results)
				\item invalid inputs not tested
				\item errors are not equally distributed
			\end{itemize}
		}
		\vspace{-1mm}
		\mydefinition{Black-Box Testing \deutsch{Funktionstest}}{
			\begin{itemize}
				\setlength\itemsep{.1em}
				\item test-case design based on specification
				\item source code and its inner structure is ignored (assumed as a black-box)
			\end{itemize}
		}{}
	}{
	}
\end{frame}

\subsection{Pairwise Interaction Testing}

\subsection{A Greedy Algorithm}

\subsection{Meta-Heuristic Search}

\subsection{T-Wise Interaction Testing}

\subsection{Effectiveness of Combinatorial Interaction Testing}

\subsection{Efficiency of Combinatorial Interaction Testing}
% testing efficiency and sampling efficiency

%\input{content/missing}

\lessonslearned{
	\item \ldots
}{
	\item \ldots
}{
	\ldots
}

\sectionend

\section{Solution-Space Sampling}

\subsection{Coverage in Single-System Engineering}
\begin{frame}{Recap: Coverage in White-Box Testing \mytitlesource{\ludewiglichter}}
	\vspace{-7mm}
	\leftorright{
		\mydefinition{White-Box Testing \deutsch{Strukturtest}}{
			\begin{itemize}
				\setlength\itemsep{.1em}
				\item inner structure of test object is used
				\item idea: coverage of structural elements
				\item code translated into control flow graph
				\item specific test case (concrete inputs)\\derived from logical test case (conditions)\\derived from path in control flow graph
			\end{itemize}
		}{}
	}{
		\mydefinition{Coverage Criteria \deutsch{Überdeckungskriterien}}{
			\begin{itemize}
				\setlength\itemsep{.1em}
				\item[1.] statement coverage \deutsch{Anweisungsüberdeck.}: all statements are executed for at least one test case
				\uncover<3->{\item[2.] branching coverage \deutsch{Zweigüberdeckung}: statement coverage and for each branching statement all branches have been exercised} % TODO not so easy to define as percentage
				\uncover<4->{\item[3.] term coverage \deutsch{Termüberdeckung}: branching coverage and terms ($n$) used in a branching statement are combined exhaustively ($2^n$)\hfill(simplified)}
				% TODO discuss path coverage?
			\end{itemize}
		}{}
	}
\end{frame}

\subsection{Coverage of Ifdef Blocks}

\subsection{Presence-Condition Coverage}

%\subsection{Encoding Solution Space in Feature Models}

\subsection{Overview on Coverage Criteria}

\subsection{Overview on Input for Sampling Algorithms}
% include test cases as input

%\input{content/missing}

\lessonslearned{
	\item \ldots
}{
	\item \ldots
}{
	\ldots
}

\input{template/footer}

%\begin{frame}{Example}
%	\includegraphics[width=\linewidth,page=3,trim=0 40 0 40,clip]{2D Analysis/2019-10-17 SPP1593 2Danalysis.pdf}
%\end{frame}

\end{document}
